<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/exxtras/spring-security">

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Agenda</title>

<link
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
	crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="/">Agenda Telefonica</a>
		<div class="collapse navbar-collapse justify-content-end">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
					Filtros
				</button>
				<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
					<li><a class="dropdown-item" href="/contactos/familia">Familia</a></li>
					<li><a class="dropdown-item" href="/contactos/amigos">Amigos</a></li>
					<li><a class="dropdown-item" href="/contactos/trabajo">Trabajo</a></li>
				</ul>
			</div>
			<span><a class="nav-link text-white font-weight-bold"
					 href="/contactos/create">AÃ±adir contacto</a></span>
		</div>
	</nav>

<div class="alert alert-primary" role="alert">
Bienvenido a tu agenda personal!
</div>
	<div class="container mb-5" style="overflow-y: auto;" sec:authorize="!isAuthenticated()">
		<div th:each="contacto : ${contactos}" class="row">
			<div class="card" style="width: 18rem;">
				<div class="card-body">
					<td>
						<h1 th:if="${contacto.categoria == 'Amigos'}" class="badge bg-primary text-wrap float-right" th:text="${contacto.categoria}"></h1>
						<h1 th:if="${contacto.categoria == 'Familia'}" class="badge bg-success text-wrap float-right" th:text="${contacto.categoria}"></h1>
						<h1 th:if="${contacto.categoria == 'Trabajo'}" class="badge bg-secondary text-wrap float-right" th:text="${contacto.categoria}"></h1>
					</td>
					<h4 class="card-title" th:text="${contacto.nombre}"></h4>
					<h5 class="card-subtitle" th:text="${contacto.apellidos}"></h5>
					<p class="card-text" th:text="${contacto.telefono}"></p>
					<div class = "inline">
						<a href = "#" class="btn btn-primary"><span class="bi bi-telephone-fill"></span></a>
						<a th:href="@{/delete/{id}(id=${contacto.id})}" class="btn btn-danger"><span class="bi bi-trash-fill"></span></a>
						<a th:href="@{/update/{id}(id=${contacto.id})}" class="btn btn-secondary"><span class = "bi bi-pencil-fill"></span></a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
		<a class = "ml-2 text-white" href="https://github.com/Dav00"><span class="bi bi-github"></span></a>
		<a class = "ml-2 text-white" href="https://es.linkedin.com/in/david-dominguez-carpio-7459a6169"><span class="bi bi-linkedin"></span></a>
		<span class = "text-white font-weight-bold ml-5">Created by David Dominguez</span>
	</nav>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
		crossorigin="anonymous"></script>

	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.1/cjs/popper.min.js"
		integrity="sha256-T3bYsIPyOLpEfeZOX4M7J59ZoDMzuYFUsPiSN3Xcc2M="
		crossorigin="anonymous"></script>

	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
		integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
		crossorigin="anonymous"></script>

</body>
</html>